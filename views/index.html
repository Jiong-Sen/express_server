<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link href="style.css" rel="stylesheet" type="text/css">
</head>

<body>
  <div id='app'></div>
  <script src="https://cdn.bootcdn.net/ajax/libs/react/17.0.2/umd/react.development.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/react-dom/17.0.2/umd/react-dom.development.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/babel-core/6.1.9/browser.min.js"></script>
  <script type="text/babel">
    class MessageBox extends React.Component {

      render() {
        return (<div class="content">
          <div class="left">
            <div class="row">
              <span>输入网址:</span>
              <span>
                <input class="inpVal" placeholder="https://www.baidu.com/" value='https://www.juejin.cn/' />
              </span>
            </div>
            <div class="row">
              <span>截图:</span>
              <span>
                <button class="getsnipate">点击获取网页截图</button>
              </span>
            </div>
            <div class="row">
              <span>结果:</span>
              <span>
                <img class="imgarea" width="500" alt="屏幕截图" src="" />
              </span>
            </div>
          </div>
          <div class="right">
            <div class="hot">
              <ul class="list">

              </ul>
            </div>
          </div>
        </div>)
      }
    }
    // 渲染
    ReactDOM.render(<MessageBox />, document.getElementById('app'));
  </script>

  <!-- <script>
    $('.getsnipate').on('click', async () => {
      const val = $('.inpVal').val()

      const req1 = new Promise((resolve, reject) => {
        fetch(`/api/screenshot?url=${val}`)
          .then((response) => response.json())
          .then((data) => {
            resolve(data)
            $('.imgarea').attr('src', data.data)
            // console.log(data.data, 'data.data')
          })
      })



      const req2 = new Promise((resolve, reject) => {
        fetch(`/getDataList?url=${val}`)
          .then((response) => response.json())
          .then((data) => {
            resolve(data)
            $('.list').html('')
          })
      })
      const res = await Promise.all([req1])
      console.log(res, 'res')

    })
  </script> -->
</body>

</html>